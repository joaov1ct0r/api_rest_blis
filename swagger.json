{
  "swagger": "2.0",
  "info": {
    "title": "API Docs",
    "description": "Documentação da API Blis",
    "version": "1.0"
  },
  "host": "localhost:3000",
  "basePath": "/docs",
  "produces": ["application/json"],
  "paths": {
    "/users": {
      "post": {
        "summary": "Criar um novo usuário",
        "tags": ["Users"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/CreateUserDTO"
            }
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuário criado com sucesso!",
            "schema": {
              "$ref": "#/definitions/UserDTO"
            }
          },
          "400": {
            "description": "Falha ao criar usuário!"
          }
        }
      }
    },

    "/users/login": {
      "post": {
        "summary": "Login",
        "tags": ["Auth"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/AuthDTO"
            }
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Autenticação realizada com sucesso!",
            "schema": {
              "$ref": "#/definitions/AuthResponseDTO"
            }
          },
          "400": {
            "description": "Usuário não encontrado!"
          },
          "401": {
            "description": "Falha na autenticação!"
          }
        }
      }
    },
    
    "/users/documents": {
      "post": {
        "summary": "Fazer upload de documento",
        "tags": ["Documents"],
        "consumes": "multipart/form-data",
        "parameters": [
          {
            "in": "formData",
            "name": "document",
            "type": "file",
            "schema": {
              "$ref": "#/definitions/UserDocumentsDTO"
            },
            "description": "Arquivo a ser enviado"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Upload de arquivo realizado com sucesso!",
            "schema": {
              "$ref": "#/definitions/UserDTO"
            }
          },
          "401": { "$ref": "#/responses/Unauthorized" },
          "403": { "$ref": "#/responses/Forbidden" }
        },
        "security": [
          { "BearerAuth": [] }
        ]
      }
    },

    "/users/abilities": {
      "post": {
        "summary": "Adicionar uma habilidade a um usuário",
        "tags": ["UsersAbilities"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/CreateUsersAbilitiesDTO"
            }
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Habilidade adicionada ao usuário com sucesso!",
            "schema": {
              "$ref": "#/definitions/UsersAbilitiesDTO"
            }
          },
          "400": { "$ref": "#/responses/BadRequest" },
          "401": { "$ref": "#/responses/Unauthorized" },
          "403": { "$ref": "#/responses/Forbidden" }
        },
        "security": [
          { "BearerAuth": [] }
        ]
      }
    },

    "/abilities": {
      "post": {
        "summary": "Criar uma nova habilidade",
        "tags": ["Abilities"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/CreateAbilityDTO"
            }
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Habilidade criada com sucesso!",
            "schema": {
              "$ref": "#/definitions/AbilityDTO"
            }
          },
          "401": { "$ref": "#/responses/Unauthorized" },
          "403": { "$ref": "#/responses/Forbidden" }
        },
        "security": [
          { "BearerAuth": [] }
        ]
      },

      "put": {
        "summary": "Atualizar uma habilidade",
        "tags": ["Abilities"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/UpdateAbilityDTO"
            }
          }
        ],
        "responses": {
          "204": { "$ref": "#/responses/NoContent" },
          "401": { "$ref": "#/responses/Unauthorized" },
          "403": { "$ref": "#/responses/Forbidden" }
        },
        "security": [
          { "BearerAuth": [] }
        ]
      }
    }
  },
  "responses": {
    "NoContent": {
      "description": "Conteudo atualizado com sucesso!"
    },
    "BadRequest": {
      "description": "Falha ao realizar ação!"
    },
    "Unauthorized": {
      "description": "Token JWT não encontrado!"
    },
    "Forbidden": {
      "description": "Token JWT invalido!"
    }
  },
  "securityDefinitions": {
    "BasicAuth": {
      "type": "basic"
    },
    "BearerAuth": {
      "type": "apiKey",
      "name": "authorization",
      "in": "header"
    }
  },
  "definitions": {
    "UsersAbilitiesDTO": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "ability_id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "years_experience": {
          "type": "number",
          "example": 3
        },
        "createdAt": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        },
        "updatedAt": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        }
      },
      "required": true
    },

    "CreateUsersAbilitiesDTO": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "ability_id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "years_experience": {
          "type": "number",
          "example": 3
        }
      },
      "required": true
    },

    "UserDocumentsDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "name": {
          "type": "string",
          "example": "any_file_name.pdf"
        },
        "url": {
          "type": "string",
          "example": "any_url"
        },
        "user_id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "createdAt": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        },
        "updatedAt": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        }
      },
      "required": true
    },

    "Users": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "name": {
          "type": "string",
          "example": "John Doe"
        },
        "birthdate": {
          "type": "string",
          "example": "09/15/2001"
        },
        "email": {
          "type": "string",
          "example": "johndoe@mail.com"
        },
        "password": {
          "type": "string",
          "example": "any_password"
        },
        "created_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        },
        "updated_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        }
      },
      "required": true
    },

    "UserDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "name": {
          "type": "string",
          "example": "John Doe"
        },
        "birthdate": {
          "type": "string",
          "example": "09/15/2001"
        },
        "email": {
          "type": "string",
          "example": "johndoe@mail.com"
        },
        "created_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        },
        "updated_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        }
      },
      "required": true
    },

    "CreateUserDTO": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "example": "John Doe"
        },
        "birthdate": {
          "type": "string",
          "example": "09/15/2001"
        },
        "email": {
          "type": "string",
          "example": "johndoe@mail.com"
        },
        "password": {
          "type": "string",
          "example": "any_password"
        }
      },
      "required": true
    },

    "AuthDTO": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "johndoe@mail.com"
        },
        "password": {
          "type": "string",
          "example": "any_password"
        }
      },
      "required": true
    },

    "AuthResponseDTO": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "example": "c05m941935c493798"
        },
        "status": {
          "type": "number",
          "example": 201
        },
        "resource": {
          "type": "object",
          "example": { "$ref": "#/definitions/UserDTO"}
        },
        "message": {
          "type": "string",
          "example": "Autenticação realizada com sucesso!"
        }
      }
    },

    "CreateAbilityDTO": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "example": "Médico"
        }
      },
      "required": true
    },

    "AbilityDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "name": {
          "type": "string",
          "example": "John Doe"
        },
        "active": {
          "type": "boolean",
          "example": true
        },
        "created_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        },
        "updated_at": {
          "type": "string",
          "example": "2001-09-15T03:00:00.000Z"
        }
      },
      "required": true
    },

    "UpdateAbilityDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "c75f7c66-e858-47d6-bb82-7ea5547c800c"
        },
        "active": {
          "type": "boolean",
          "example": true
        }
      }
    }
  }
}
